<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: java | Bright Shine]]></title>
  <link href="http://sleefd.github.com/blog/categories/java/atom.xml" rel="self"/>
  <link href="http://sleefd.github.com/"/>
  <updated>2014-01-21T20:09:03+08:00</updated>
  <id>http://sleefd.github.com/</id>
  <author>
    <name><![CDATA[slee]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[hamcrest一瞥]]></title>
    <link href="http://sleefd.github.com/blog/2014/01/21/hamcrest/"/>
    <updated>2014-01-21T19:59:00+08:00</updated>
    <id>http://sleefd.github.com/blog/2014/01/21/hamcrest</id>
    <content type="html"><![CDATA[<p>hamcrest是一个Matcher库，有java版，python,c++版等。它提供了很多比较器用来比较两个对象。其并不是一个测试框架，只是因为Matcher可以在测试断言中用到，而被测试框架和Mock框架集成，比如Junit4,EasyMock.</p>

<p>hamcrest库由两大部分组成:Matcher<T>和Description。<br/>
Matcher体系定义了常用的比较器，比如equal，not，same等，每个core matcher继承BaseMatcher,实现matches方法来做比较。</p>

<p>Description体系用来描述每个Matcher，输出Matcher错误信息。比如expected: is(..), got: ..。</p>

<!-- more -->


<h3>hamcrest core matcher</h3>

<p>参见 org.hamcrest.CoreMatchers<br/>
anyOf(mathcher1,mather2..):   满足任何一个matcher即为真，参数为matchers  <br/>
allOf(matcher1,matcher2...): 满足所有matcher，则为真<br/>
anything(): 永远为真<br/>
any(class<T>): 任何T类型，则为真
equalTo(): 是否相等，使用equals比较
nullValue(): 空值为真
instanceOf(): 判断是否为某个类的实例<br/>
is(matcher): 装饰现有matcher，提高代码可读性<br/>
sameInstance(): 是否为同一实例
assertThat(actual, is(expected)): junit断言和is，提高readability</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>hamcrest例子 </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">CoreMatchers</span><span class="o">.*;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">IsAnything</span><span class="o">.</span><span class="na">any</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">Assert</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="o">*</span> <span class="n">Created</span> <span class="n">by</span> <span class="n">slee</span> <span class="n">on</span> <span class="mi">14</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">21</span><span class="o">.</span>
</span><span class='line'> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HamcrestTest</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="nd">@Test</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test_hamcrest_matcher</span><span class="o">(){</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;test&quot;</span><span class="o">;</span>
</span><span class='line'>    <span class="c1">//asserts below are all passed</span>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span> <span class="o">,</span><span class="n">is</span><span class="o">(</span><span class="s">&quot;test&quot;</span><span class="o">));</span> <span class="c1">//readable code</span>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">&quot;test&quot;</span><span class="o">)</span> <span class="o">);</span>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span> <span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">equalTo</span><span class="o">(</span><span class="s">&quot;test&quot;</span><span class="o">)));</span> <span class="c1">//readable code</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">not</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">)));</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">notNullValue</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">any</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">any</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">)));</span> <span class="c1">//readable</span>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">anyOf</span><span class="o">(</span><span class="n">nullValue</span><span class="o">(),</span> <span class="n">is</span><span class="o">(</span><span class="s">&quot;test&quot;</span><span class="o">)));</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">allOf</span><span class="o">(</span><span class="n">notNullValue</span><span class="o">(),</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">&quot;test&quot;</span><span class="o">)));</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="n">instanceOf</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">)));</span>
</span><span class='line'>    <span class="n">assertThat</span><span class="o">(</span><span class="n">s</span> <span class="o">,</span><span class="n">is</span><span class="o">(</span><span class="n">sameInstance</span><span class="o">(</span><span class="s">&quot;test&quot;</span><span class="o">)));</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[junit4可用断言]]></title>
    <link href="http://sleefd.github.com/blog/2014/01/21/junit-assert/"/>
    <updated>2014-01-21T10:47:00+08:00</updated>
    <id>http://sleefd.github.com/blog/2014/01/21/junit-assert</id>
    <content type="html"><![CDATA[<p>参见junit.org.Assert.java<br/>
Assert.java包含在单元测试中可使用的所有断言，断言失败产生fail message。<br/>
该类中的方法都为静态方法，通过静态导入，可增强代码可读性。</p>

<!-- more -->


<p>assertEquals( ):比较期望和实际参数是否相等。基本类型直接比较，Object类型调用equals方法比较。</p>

<p>assertSame():  ==比较，比较引用。</p>

<p>assertTrue():   判断bool值是否为真。</p>

<p>assertFalse():  判断bool值是否为假。</p>

<p>assertNull(): 判断参数是否为空。</p>

<p>assertNot~(): 上述所有断言的相反断言。</p>

<p><strong>assertThat</strong>():  该断言使用了<a href="http://code.google.com/p/hamcrest/">hamcrest</a>提供的Matcher，种类多，可读性强，可取代上述所有断言，建议使用。assertThat(actual, matcher)。比如</p>

<p>assertThat("abc", is("abc"));   <br/>
assertThat(mylist, is(expectedList));</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[适配器模式]]></title>
    <link href="http://sleefd.github.com/blog/2014/01/20/adapter-model/"/>
    <updated>2014-01-20T20:31:00+08:00</updated>
    <id>http://sleefd.github.com/blog/2014/01/20/adapter-model</id>
    <content type="html"><![CDATA[<h4>什么是适配器</h4>

<p>以常见的电源适配器为例：比如手机的充电器
，笔记本电脑的电源。日常供电电压是220v,手机充电器将日常电压转
化成手机能用的电压（5v左右）,手机才能冲进电。
香港的笔记本电压是110v,而大陆的电压是220v,如果要让香港的笔记本电脑能在大陆充电要怎么做呢？
需要一个适配器将220v的电压输入转为110v输出，如此笔记本电脑才能充电。</p>

<!-- more -->


<p>因此适配器是一个转换器，将一种输入转化成另一种输出，将一个接口转化成另一个接口，
以较小的代价实现功能的复用。</p>

<h4>适配器模式及好处</h4>

<p>适配器模式是常见的设计模式之一。通过将现有接口转化成另一个需要的接口，
可以复用第三方组件或现有功能模块，避免重复功能的开发。</p>

<h4>适配器模式的实现方法</h4>

<p>使用适配器模式的目的是提供一个可用的接口。<br/>
因此需要一个接口类，定义我们需要的接口；<br/>
接着需要一个类实现这个接口，提供必须功能。这个类通常被称为Adapter。<br/>
当然还有一个类已经提供了我们所需功能的部分实现，需要被复用，称为Adaptee.<br/>
关键是Adapter如何复用Adaptee的功能。方法有两种：</p>

<ul>
<li>Adapter继承Adaptee<br/>
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">interface</span> <span class="nc">Functions</span>
</span><span class='line'><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kt">void</span> <span class="n">f</span><span class="o">();</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">class</span> <span class="nc">Adaptee</span>
</span><span class='line'><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kt">void</span> <span class="n">f</span><span class="o">(</span><span class="kt">int</span> <span class="o">)</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    <span class="c1">//do something....</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">class</span> <span class="nc">Adapter</span> <span class="kd">extends</span> <span class="n">Adaptee</span> <span class="kd">implements</span> <span class="n">Functions</span>
</span><span class='line'><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kt">void</span> <span class="n">f</span><span class="o">()</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    <span class="k">this</span><span class="o">.</span><span class="na">f</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<ul>
<li>Adapter引用Adaptee类，包含一个Adaptee对象成员
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">class</span> <span class="nc">Adapter</span> <span class="kd">implements</span> <span class="n">functions</span>
</span><span class='line'><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">private</span> <span class="n">Adaptee</span> <span class="n">obj</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    <span class="n">obj</span><span class="o">.</span><span class="na">f</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gradle一瞥]]></title>
    <link href="http://sleefd.github.com/blog/2014/01/11/gradle/"/>
    <updated>2014-01-11T22:20:00+08:00</updated>
    <id>http://sleefd.github.com/blog/2014/01/11/gradle</id>
    <content type="html"><![CDATA[<p>gradle是一个自动化够建工具，用groovy语言编写。
通过gradle脚本可以一次性完成很多任务，比如编译，测试， 打jar包，多项目管理，依赖管理等等。</p>

<!--more-->


<h3>task</h3>

<p>task是gradle脚本定义的，一个项目可以执行的任务。</p>

<p>gradle tasks 查看所有可以执行的任务
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="c1">//定义task</span>
</span><span class='line'><span class="n">task</span> <span class="n">hello</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;&amp;</span><span class="n">lt</span><span class="o">;{&lt;</span><span class="s">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;pre&gt;&lt;code&gt;println &quot;hello world&quot;</span>
</span><span class='line'><span class="s">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>gradle hello //运行Hello task</p>

<h3>plugin</h3>

<p>plugin是gradle预先设置好的一些task，直接使用plugin就不需要自己code task。
比如java plugin，可以帮忙完成java代码的编译，测试，打jar包。
idea plugin，可以把项目打包成idea工程。<br/>
apply plugin后，gradle tasks查看可使用的task。</p>

<p><strong>使用方法</strong></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="c1">//gradle.build</span>
</span><span class='line'><span class="n">apply</span> <span class="nl">plugin:</span> <span class="s2">&quot;java&quot;</span>
</span><span class='line'><span class="n">apply</span> <span class="nl">plugin:</span> <span class="s2">&quot;idea&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>常见的plugin有:</p>

<ul>
<li>java: 提供java源代码编译，测试，运行，打包等功能</li>
<li>idea: 构建idea工程</li>
<li>eclipse: 构建eclipse工程</li>
<li>jetty: 添加jetty服务器支持</li>
<li>war: web project打包成war包</li>
</ul>


<h3>dependency management</h3>

<p>很多时候项目编译要依赖第三方库，比如测试要使用junit,画图表要用Jfreechart，spring框架需要spring的库等。
gradle可以管理这些依赖，自动下载需要的库。</p>

<p>repositories定义外部依赖的来源。
dependencies定义需要的依赖。</p>

<p>声明外部依赖
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="c1">//build.gradle</span>
</span><span class='line'><span class="n">apply</span> <span class="nl">plugin:</span> <span class="s2">&quot;java&quot;</span>
</span><span class='line'><span class="n">repositories</span><span class="o">{&lt;</span><span class="s">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;pre&gt;&lt;code&gt;mavenCentral()</span>
</span><span class='line'><span class="s">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;</span><span class="s">/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">dependencies</span><span class="o">{</span>
</span><span class='line'><span class="n">compile</span> <span class="s2">&quot;com.google.guava:guava:15.0&quot;</span>
</span><span class='line'><span class="n">testCompile</span> <span class="s2">&quot;junit:junit:4.8.2&quot;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>gradle wrapper</h3>

<p>wrapper是一个task.当项目成员木有安装gradle时，通过gradle wrapper可以自动下载安装gradle.
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="c1">//build.gradle</span>
</span><span class='line'><span class="n">task</span> <span class="nf">wrapper</span><span class="o">(</span><span class="nl">type:</span><span class="n">Wrapper</span><span class="o">)</span>
</span><span class='line'><span class="o">{&lt;</span><span class="s">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;pre&gt;&lt;code&gt;gradleVersion = &quot;1.4&quot;</span>
</span><span class='line'><span class="s">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>example</h3>

<ul>
<li><p>java项目</p>

<ol>
<li><p>创建项目目录,java plugin有约定的项目目录格式:</p>

<p>   src<br/>
   ----main---java<br/>
   ----test---java<br/>
   mkdir src\main\java<br/>
   mkdir src\main\test</p></li>
<li><p>build.gradle
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="o">&lt;</span><span class="s">/p&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="s">/ol&gt;</span>
</span><span class='line'><span class="s">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="s">/ul&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;p&gt;apply plugin: &quot;java&quot;</span>
</span><span class='line'><span class="s">apply plugin: &quot;idea&quot;</span>
</span><span class='line'><span class="s">repositories{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">mavenCentral</span><span class="o">()</span>
</span><span class='line'><span class="o">&lt;</span><span class="s">/code&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span><span class='line'><span class="n">dependencies</span><span class="o">{&lt;</span><span class="s">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s">&lt;pre&gt;&lt;code&gt;testCompile &quot;junit:junit:4.8.2&quot;        </span>
</span><span class='line'><span class="s">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<pre><code>3. gradle idea  
  创建idea项目
</code></pre>

<ul>
<li><p>spring项目</p>

<ol>
<li><p>创建项目目录</p>

<p>  src<br/>
  ---main---java<br/>
  ---webapp---WEB-INF---pages<br/>
  ---test---java</p></li>
<li><p>build.gradle    <br/>
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'>  <span class="n">apply</span> <span class="nl">plugin:</span> <span class="s1">&#39;java&#39;</span>
</span><span class='line'>  <span class="n">apply</span> <span class="nl">plugin:</span> <span class="s1">&#39;idea&#39;</span>
</span><span class='line'>  <span class="n">repositories</span><span class="o">{</span>
</span><span class='line'>  <span class="n">mavenCentral</span><span class="o">()</span>  <span class="o">&lt;</span><span class="n">br</span><span class="s">/&gt;</span>
</span><span class='line'><span class="s">  }</span>
</span><span class='line'><span class="s">  dependencies{</span>
</span><span class='line'><span class="s">  compile &quot;org.springframework:spring-webmvc:3.2.0.RELEASE&quot;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="n">testCompile</span> <span class="s2">&quot;junit:junit:4.8.2&quot;</span>
</span><span class='line'>  <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li>gradle idea</li>
</ol>
</li>
</ul>

]]></content>
  </entry>
  
</feed>
